# DocSync 使用指南
**DocSync** 是一个强大的实时项目文档生成工具。它能动态监听指定目录下的文件内容更新，并自动生成一份包含项目文件结构和详细文件内容的 Markdown 文档。DocSync 旨在帮助开发者轻松维护项目文档的最新状态，提供清晰的项目概览和代码参考。

### 1. 核心功能
- **实时监听文件变动:** DocSync 会自动检测并响应你项目文件中发生的任何新增、修改和删除操作。这意味着你的文档将始终与项目代码同步。
- **清晰的文件结构展示:** 它能够生成直观的项目目录树形结构，让你一眼就能了解项目的组织方式。
- **文文件内容智能整合:** DocSync 会自动提取指定文件的内容，并将其格式化到 Markdown 文档中。它还支持多种代码语言的自动高亮，让代码片段更易阅读。
- **灵活的定制与屏蔽:** 通过简单的配置文件，你可以轻松定制 DocSync 的行为。你可以指定要监听的目录、Markdown 文档的输出路径，甚至可以设置规则来屏蔽不想出现在文档中的文件或目录，或者只屏蔽其内容。

### 2. 安装依赖
``` bash
pnpm i

```

### 3. 设置 DocSync
**DocSync**的所有行为都通过一个名为`config.js`的文件进行配置。

`config.js`示例
在你的项目根目录下创建`config.js`文件，并根据你的项目需求进行修改：
``` javaScript
// config.js
module.exports = {
    // **必填**: 生成的 Markdown 文件的输出路径。
    // 可以是相对路径（相对于运行 Node 服务的目录），也可以是绝对路径。
    // 确保指定的输出目录存在，否则 DocSync 在写入文件时可能会失败。
    outputMarkdownPath: './docs/PROJECT_README.md', // 示例：输出到项目根目录下的 'docs' 文件夹内

    // 可选: 屏蔽的文件或目录（相对于被监听目录的路径）。
    // 这些路径下的文件或目录将完全不会出现在生成的 Markdown 文档中，
    // 包括文件结构和文件内容。支持文件扩展名通配符（如 '*.log'）。
    ignoredPaths: [
        'node_modules',       // 忽略所有 npm 模块
        '.git',               // 忽略 Git 版本控制目录
        'package-lock.json',  // 忽略 npm 锁定文件
        '.DS_Store',          // 忽略 macOS 系统文件
        'temp_files',         // 忽略名为 'temp_files' 的目录或文件
        '*.log',              // 忽略所有 .log 文件
        '*.tmp'               // 忽略所有 .tmp 文件
    ],

    // 可选: 屏蔽文件内容（相对于被监听目录的路径）。
    // 这些路径下的文件只会在“项目的文件结构”中显示，但它们的内容不会被读取并添加到“项目内容”部分。
    // 这对于大型二进制文件、敏感数据文件或你只想展示文件名而不展示内容的文本文件非常有用。
    ignoredContentPaths: [
        'big_data_file.txt',  // 示例：文件结构中可见，但内容不加载
        'assets/',            // 示例：assets 目录下的文件内容不加载
        'credentials.json'    // 示例：显示文件名，但不显示凭证内容
    ]
};
```

### 4. 运行 DocSync

一旦你完成了`config.js`的设置（并确保`server.js`文件存在于你的项目根目录），就可以启动 **DocSync**了。

**启动服务**
在你的项目根目录下打开终端，使用以下命令运行 DocSync，并直接在命令行中指定你希望监听的项目**目录：**
``` bash
node server.js <你的目标目录路径> <你的md文档输出目录>
```
**示例：**
- 如果你想监听项目根目录下的`src`文件夹，可以运行：
``` bash
node server.js ./src  ./out/123.md
```
- 如果你想监听整个当前项目目录（即`server.js`所在的目录），可以运行：
``` bash
node server.js .
```
**DocSync 开始工作**
服务启动后，DocSync 会立即执行以下操作：

1.**首次文档生成:**它会根据你指定的目录，立即生成一份`Markdown`文档到你在`config.js`中配置的 outputMarkdownPath。
2.**实时监听:**`DocSync`将开始持续监听目标目录中文件的任何变化。当你对文件进行新增、修改或删除操作时，它都会自动重新生成并更新`Markdown`文档。

**停止服务**
随时在终端中按下`Ctrl + C`即可停止`DocSync`服务。